<div class="container">
    <div class="row">
      <div class="sideMenu col-md-3">
          <a (click)="subcategoryFilterFunc('all');">Show All Products</a>
        <div *ngFor="let result of searchResults; index as i;">
          <div>
              <button type="button" class="btn btn-outline-primary" (click)="isCollapsed[i] = !isCollapsed[i]"
            [attr.aria-expanded]="!isCollapsed[i]" [attr.aria-controls]="'collapse'+i">
            <p><strong>{{result.category}}</strong></p>
    </button>
            <div *ngFor="let subcategory of result.subcategories">
          <div *ngIf="subcategory.items.length > 0;" [attr.id]="'collapse'+i" [ngbCollapse]="!isCollapsed[i]">
              <div>
                <div>
                    <a (click)="subcategoryFilterFunc(subcategory.name);">{{subcategory.name}}</a>
                  </div>
              </div>
            </div>
          </div>
        </div>
        </div>
        <div class="Pricefilters">
          <button type="button" *ngFor="let price of pricesFiltreArray; index as i;" (click)="filterPriceFunc(price,$event)" >{{price.title}}</button>
        </div>
        <button (click)="ShowOnlyStock($event)">Show only stocked</button>
        <button (click)="SortPriceFunc($event)">Order By Price</button>
      </div>
      <div class="products col-md-9">
<div *ngIf="allProducts; else elseBlock" class="row">                
            <div class="col-md-4 item" *ngFor="let product of allProducts | orderByPrice:orderByPriceBool | filterStocked:filterBool | subcategoryFilter:filterString | priceFilter:filterPrice;">
              <a [routerLink]="['/product/' + product.name]">View Product</a>
              <p>price is: {{product.price}}</p>
                <img width=50 [src]="product.imagelink" /> 
                <h4>{{product.name}}</h4>
              <p> category is: {{product.category}}</p> 
              <p> rating is: {{product.rating}}</p> 
              <p> stock is: {{product.stock}}</p> 
              <p> sub category is: {{product.subcategory}}</p>               
          </div>

</div>  
    <ng-template #elseBlock>Loading...</ng-template> 
  </div>
</div>
</div>

